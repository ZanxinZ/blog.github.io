<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Properties | CodePaper</title><meta name=keywords content="编程语言"><meta name=description content="Stored properties
Only provided by classed and structures.
Computed properties
Provide by classes, structures, enumerations.
Usually associated with instance of a particular type, can be associated with the type itself(type properties).
Can define property observers to monitor changes in a property’s value, which can respond to with custom action.
Can use a property wrapper to reuse code in the getter and setter.
Stored Properties **struct Setting { var width: Int let height: Int } var appSetting = Setting(width: 100, height: 200) appSetting."><meta name=author content><link rel=canonical href=https://1-1.link/post/language/swift/10properties/><link crossorigin=anonymous href=/assets/css/stylesheet.6e97a6b79be998515e8c86c68e32a9f7a90e6917f550d2af32568b717f5ca785.css integrity="sha256-bpemt5vpmFFejIbGjjKp96kOaRf1UNKvMlaLcX9cp4U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://1-1.link/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://1-1.link/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://1-1.link/favicon-32x32.png><link rel=apple-touch-icon href=https://1-1.link/apple-touch-icon.png><link rel=mask-icon href=https://1-1.link/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Properties"><meta property="og:description" content="Stored properties
Only provided by classed and structures.
Computed properties
Provide by classes, structures, enumerations.
Usually associated with instance of a particular type, can be associated with the type itself(type properties).
Can define property observers to monitor changes in a property’s value, which can respond to with custom action.
Can use a property wrapper to reuse code in the getter and setter.
Stored Properties **struct Setting { var width: Int let height: Int } var appSetting = Setting(width: 100, height: 200) appSetting."><meta property="og:type" content="article"><meta property="og:url" content="https://1-1.link/post/language/swift/10properties/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-04-17T16:12:40+08:00"><meta property="article:modified_time" content="2022-04-17T16:12:40+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Properties"><meta name=twitter:description content="Stored properties
Only provided by classed and structures.
Computed properties
Provide by classes, structures, enumerations.
Usually associated with instance of a particular type, can be associated with the type itself(type properties).
Can define property observers to monitor changes in a property’s value, which can respond to with custom action.
Can use a property wrapper to reuse code in the getter and setter.
Stored Properties **struct Setting { var width: Int let height: Int } var appSetting = Setting(width: 100, height: 200) appSetting."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":3,"name":"Properties","item":"https://1-1.link/post/language/swift/10properties/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Properties","name":"Properties","description":"Stored properties\nOnly provided by classed and structures.\nComputed properties\nProvide by classes, structures, enumerations.\nUsually associated with instance of a particular type, can be associated with the type itself(type properties).\nCan define property observers to monitor changes in a property’s value, which can respond to with custom action.\nCan use a property wrapper to reuse code in the getter and setter.\nStored Properties **struct Setting { var width: Int let height: Int } var appSetting = Setting(width: 100, height: 200) appSetting.","keywords":["编程语言"],"articleBody":" Stored properties\nOnly provided by classed and structures.\nComputed properties\nProvide by classes, structures, enumerations.\nUsually associated with instance of a particular type, can be associated with the type itself(type properties).\nCan define property observers to monitor changes in a property’s value, which can respond to with custom action.\nCan use a property wrapper to reuse code in the getter and setter.\nStored Properties **struct Setting { var width: Int let height: Int } var appSetting = Setting(width: 100, height: 200) appSetting.width = 150 let constSetting = Setting(width: 110, height: 210) //constSetting.width = 120 // This will trigger a compile-time error, the struct is of const value type.** Lazy Stored Properties Its initial value isn’t calculated until the first time it’s used.\nLazy stored properties must be a variable, it will be assigned at the first time it’s used.\nConstants can’t be lazy, because it always have a value before initialization completes.\nclass DataImporter { var fileName = \"data.txt\" func readFromFile(path: String) -\u003e String { return \"some \" + path } } class DataManager { lazy var importer = DataImporter() var data: [String] = [] } let manager = DataManager() manager.data.append(\"Happy\") manager.data.append(\"Time\") // Here the manager.importer has not yet been created. var str = manager.importer.readFromFile(path: manager.data[0]) // Here the manager.importer is created, and then call the function of the manager.importer print(str) // Print: 「some Happy」 If a property marked with the lazy modifier is accessed by multiple threads simultaneously and the property hasn’t yet been initialized, there’s no guarantee that the property will be initialized only once. Stored Properties and Instance Variable In Objective-C or C++, the definition and initialization of an instance variable are separated in different places.\nSwift cancels the instance variable rules, and use a simple way to declare the propertied of an instance, define the name, type, memory management characteristics in a single location.\nComputed Properties In classes, structures, and enumerations, we provide a getter and setter to retrieve and set properties and values indirectly.\nUsing computed properties, we can compute something else of the class’s from the other properties.\nstruct Bag { var bookCount: Int = 0 var penCount: Int = 0 var objectCount: Int { get { return bookCount + penCount } set (count) { bookCount = Int(Double(count) * 0.8) penCount = Int(Double(count) * 0.2) } } } var bag = Bag(bookCount: 1, penCount: 2) print(bag.objectCount) // Here use the getter. Print 「3」 bag.objectCount = 10 // Here use the setter. The temporary parameter 'count' is assignes to 10. print(bag.objectCount) // 10 print(bag.bookCount) // 8 print(bag.penCount) // 2 The setter has a shorter form of declaration. It must use the newValue to grab the temporary parameter.\nset { bookCount = Int(Double(newValue) * 0.8) penCount = Int(Double(newValue) * 0.2) } The getter has a shorter form of declaration. It write the code with one line and as the return expression.\nget { bookCount + penCount } Read-Only Computed Properties struct Bag { var bookCount: Int = 0 var penCount: Int = 0 var objectCount: Int { get { bookCount + penCount } } } Read-Only in a shorter form:\nstruct Bag { var bookCount: Int = 0 var penCount: Int = 0 var objectCount: Int { return bookCount + penCount } } Omit the return\nstruct Bag { var bookCount: Int = 0 var penCount: Int = 0 var objectCount: Int { bookCount + penCount } } The read-only computed properties are useful for an external user to discover the Bag ’s current status.\nProperty Observers The observer can observe and respond to changes in a property’s value.\nThe observer can’t be provide together with getter or setter.\nOnly can add property in these places:\nStored properties that we define.\nStored properties that we inherit.\nFor an inherit property, add a property observer by overriding that property in a subclass.\nComputed properties that we inherit.\nUse property’s setter to observe and responds to value changes, instead of creating an observer.\nDefine either or both of these observers on a property.\nwillSet is called before the value is stored. (pass the new property value as a constant, it has a default name of newValue) disSet is called immediately after the new value is stored.(pass the last old property value as a constant, it has a default name of oldValue) struct Bag { var bookCount: Int = 0 var penCount: Int = 0 var objectCount: Int { willSet (newCount) { print(\"Will set the count \\(newCount)\") // 2 } didSet { print(\"Has set the count, the olValue is \\(oldValue), and add \\(objectCount - oldValue)\") // 0 2 } } } var bag = Bag(objectCount: 0) bag.objectCount = 2 // Here trigger the wiilSet and then trigger the didSet. The newValue is 2, and the oldValue is 0. print(\"After change, objectCount: \\(bag.objectCount)\") // 2 The observer in the superclass can observe the properties’ action in the subclass.\nThe subclass set the superclass’s property after the superclass’s initializer has been called. If the superclass’s initializer hasn’t been called, the observer can not work. Property Wrappers It can wrap the data and the code together as a code block. Using property wrapper can reduce the repeated codes.\nHere is an example that store a number less than 12 or equals to 12. The wrappedValue must used explicitly.\n@propertyWrapper struct Num { private var number = 0 var wrappedValue: Int { get {return number} set {number = min(newValue, 12)} } } Using\nstruct Rectangle { @Num var width: Int // It declares that the var use the rule of the propertyWrapper @Num var height: Int } var rect = Rectangle() print(rect.width) // Call the 'get' function rect.height = 10 // Call the 'set' function Another way to use the propertyWrapper\nstruct Rectangle { private var _height = Num() private var _width = Num() var height: Int { get{ return _height.wrappedValue } set{ _height.wrappedValue = newValue} } var width: Int { get{ return _width.wrappedValue} set{ _width.wrappedValue = newValue} } } Setting Initial Values for Wrapped Properties In default, use the wrppedValue to catch the input implicitly.\nOverride the initial function so to provide several ways to to init a Num .\n@propertyWrapper struct Num { private var maximum: Int private var number: Int var wrappedValue: Int { get { return number} set { number = min(newValue, maximum)} } init() { maximum = 12 number = 0 } init(wrappedValue: Int) { maximum = 12 number = wrappedValue } init(wrappedValue: Int, maximum: Int) { self.maximum = maximum number = wrappedValue } } The initialization without parameter.\nstruct ZeroRectangle { @Num var width: Int @Num var height: Int } var zeroRect = ZeroRectangle() The initialization with one default parameter wrappedValue .\nstruct UnitRectangle { @Num var width: Int = 1 // It call the init @Num var height: Int = 1 } var unitRect = UnitRectangle() // Or in this way struct UnitRectangle { @Num(wrappedValue: 1) var width: Int @Num(wrappedValue: 1) var height: Int } var unitRect = UnitRectangle() The initialization with two parameters.\nstruct NarrowRectangle { @Num(wrappedValue: 2, maximum: 5) var width: Int @Num(wrappedValue: 3, maximum: 4) var height: Int } var narrowRect = NarrowRectangle() // Or in this way struct NarrowRectangle { @Num(wrappedValue: 2, maximum: 5) var width: Int @Num(maximum: 4) var height: Int = 3 } var narrowRect = NarrowRectangle() The default parameter wrappedValue is used to pass input implicitly.\nProject a Value From a Property Wrapper Declare the var name projectedValue in a property wrapper.\nIt can store some information such as track the change of the property, and then the outside caller can get the information from the projectedValue. It can be accessed via the dollar sign $ , when the outside caller has the permission to access.\nstruct Num { private var number: Int private(set) var projectedValue: Bool // The projectedValue's set function is declare as private. var wrappedValue: Int { get { return number} set { if newValue \u003e 12 { number = 12 projectedValue = true } else { number = newValue projectedValue = false } } } init() { self.projectedValue = false self.number = 0 } } struct Rectangle { @Num var width: Int } var rect = Rectangle() rect.width = 15 // The number is private, it will be affect via the `set` function. print(rect.$width) // Use the dollar sign to access the projectedValue. // rect.$width = false // It can't work, the outside caller can't call the projectedValue's private function 'set' Global and Local Variables Global\nIt is defined outside any function, method, closure, or type context.\nGlobal constants and variables are always lazily.\nLocal\nIt is defined in any function, method, closure, or type context.\nLocal constants and variables are never computed lazily.\nStored Variables provide storage for a value of a certain type and allow that value to be set and retrieved. Observer is available for the stored variable and computed variable in a global or local scope.\nProperty wrapper can be use to a stored variable, but not to a global variable or a computed variable.\nHere’s a function’s local stored variable (count) use the wrapper property (Num).\nfunc doSomething() { @Num var count: Int _count.number = 12 // The 'number' requires the wrapper 'Num' so it use a underscore to indicate the wrapper. print(_count.number) } Instance Properties Every time we create a new instance of that type, it has it own set of property values, separate from any other instance.\nType Properties If we define a property belong to the type itself, it’s called type property. All instance of that type share this one type property. (like static property in Java class) Stored type properties can be variables or constants. Computed type properties are always declared as variable properties, in the same way as computed instance properties. Need default value. Lazily initialized on first access. Be initialized only once, even when accessed by multiple threads simultaneously. Type Property Syntax Define type property with static keyword.\nIn a class, use class instead the static to override the superclass’s implementation.\nstruct ShortSize { static var name = \"Short\" private static var store: Int = 1 static var size: Int { get { return store} set { store = newValue} } } enum MediumSize { static var name = \"Medium\" private static var store: Int = 4 static var size: Int { get { return store } set { store = newValue} } } class LongSize { static var name = \"Long\" private static var store: Int = 4 static var size: Int { get { return store} set { store = newValue} } class var sizeFromSuper: Int { get { return store } set { store = 2 * newValue} } } // Use the type properties print(ShortSize.name) print(ShortSize.size) Setting the Type Properties\nsetting\nstruct ShortSize { static var name = \"Short\" private static var store: Int = 1 var size: Int { get { return ShortSize.store} set { ShortSize.store = newValue} } } var shortSize = ShortSize() var shortSizeAnother = ShortSize() print(shortSize.size) print(shortSizeAnother.size) shortSize.size = 15 // It will change the sharing variable 'store' (type property) print(shortSize.size) print(shortSizeAnother.size) Result\n1 1 15 15\nUse the observer to respond to the change of the variable and to affect the type property.\nstruct Channel { static let maxLevel: Int = 10 static var maxInput: Int = 0 var currentLevel: Int { didSet { if currentLevel \u003e Channel.maxLevel { currentLevel = Channel.maxLevel // It set the currentLevel, but it doesn't call the observer again. } else if currentLevel \u003e Channel.maxInput { Channel.maxInput = currentLevel } } } } var channel = Channel(currentLevel: 0) channel.currentLevel += 4 print(Channel.maxInput) ","wordCount":"1922","inLanguage":"en","datePublished":"2022-04-17T16:12:40+08:00","dateModified":"2022-04-17T16:12:40+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://1-1.link/post/language/swift/10properties/"},"publisher":{"@type":"Organization","name":"CodePaper","logo":{"@type":"ImageObject","url":"https://1-1.link/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://1-1.link accesskey=h title="CodePaper (Alt + H)">CodePaper</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://1-1.link/archive/ title=档案><span>档案</span></a></li><li><a href=https://1-1.link/categories/ title=类别><span>类别</span></a></li><li><a href=https://1-1.link/tags/ title=标签><span>标签</span></a></li><li><a href=https://1-1.link/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://1-1.link/about/ title=关于我><span>关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://1-1.link>Home</a></div><h1 class=post-title>Properties</h1><div class=post-meta><span title='2022-04-17 16:12:40 +0800 +0800'>April 17, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#stored-properties aria-label="Stored Properties">Stored Properties</a></li><li><a href=#lazy-stored-properties aria-label="Lazy Stored Properties">Lazy Stored Properties</a><ul><li><a href=#stored-properties-and-instance-variable aria-label="Stored Properties and Instance Variable">Stored Properties and Instance Variable</a></li></ul></li><li><a href=#computed-properties aria-label="Computed Properties">Computed Properties</a><ul><li><a href=#read-only-computed-properties aria-label="Read-Only Computed Properties">Read-Only Computed Properties</a></li></ul></li><li><a href=#property-observers aria-label="Property Observers">Property Observers</a></li><li><a href=#property-wrappers aria-label="Property Wrappers">Property Wrappers</a><ul><li><a href=#setting-initial-values-for-wrapped-properties aria-label="Setting Initial Values for Wrapped Properties">Setting Initial Values for Wrapped Properties</a></li><li><a href=#project-a-value-from-a-property-wrapper aria-label="Project a Value From a Property Wrapper">Project a Value From a Property Wrapper</a></li></ul></li><li><a href=#global-and-local-variables aria-label="Global and Local Variables">Global and Local Variables</a><ul><li><a href=#stored-variables aria-label="Stored Variables">Stored Variables</a></li></ul></li><li><a href=#instance-properties aria-label="Instance Properties">Instance Properties</a></li><li><a href=#type-properties aria-label="Type Properties">Type Properties</a><ul><li><a href=#type-property-syntax aria-label="Type Property Syntax">Type Property Syntax</a></li></ul></li></ul></div></details></div><div class=post-content><ul><li><p>Stored properties</p><p>Only provided by <strong>classed and structures</strong>.</p></li><li><p>Computed properties</p><p><strong>Provide by classes, structures, enumerations.</strong></p></li></ul><p>Usually associated with instance of a particular type, can be associated with the type itself(type properties).</p><p>Can define property observers to monitor changes in a property’s value, which can respond to with custom action.</p><p>Can use a property wrapper to reuse code in the getter and setter.</p><h2 id=stored-properties>Stored Properties<a hidden class=anchor aria-hidden=true href=#stored-properties>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f92672>**</span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Setting</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> width: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> height: Int  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> appSetting = Setting(width: <span style=color:#ae81ff>100</span>, height: <span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span>appSetting.width = <span style=color:#ae81ff>150</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> constSetting = Setting(width: <span style=color:#ae81ff>110</span>, height: <span style=color:#ae81ff>210</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//constSetting.width = 120  // This will trigger a compile-time error, the struct is of const value type.**</span>
</span></span></code></pre></div><h2 id=lazy-stored-properties>Lazy Stored Properties<a hidden class=anchor aria-hidden=true href=#lazy-stored-properties>#</a></h2><p>Its initial value isn’t calculated until the first time it’s used.</p><p>Lazy stored properties must be a variable, it will be assigned at the first time it’s used.</p><p>Constants can’t be lazy, because it always have a value before initialization completes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataImporter</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> fileName = <span style=color:#e6db74>&#34;data.txt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>readFromFile</span>(path: String) -&gt; String {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;some &#34;</span> <span style=color:#f92672>+</span> path
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataManager</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>lazy</span> <span style=color:#66d9ef>var</span> importer = DataImporter()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> data: [String] = []
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> manager = DataManager()
</span></span><span style=display:flex><span>manager.data.append(<span style=color:#e6db74>&#34;Happy&#34;</span>)
</span></span><span style=display:flex><span>manager.data.append(<span style=color:#e6db74>&#34;Time&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// Here the manager.importer has not yet been created.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> str = manager.importer.readFromFile(path: manager.data[<span style=color:#ae81ff>0</span>]) <span style=color:#75715e>// Here the manager.importer is created, and then call the function of the manager.importer</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(str)
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: 「some Happy」</span>
</span></span></code></pre></div><ul><li>If a property marked with the <code>lazy</code> modifier is accessed by multiple threads simultaneously and the property hasn’t yet been initialized, there’s no guarantee that the property will be initialized only once.</li></ul><h3 id=stored-properties-and-instance-variable>Stored Properties and Instance Variable<a hidden class=anchor aria-hidden=true href=#stored-properties-and-instance-variable>#</a></h3><p>In Objective-C or C++, the definition and initialization of an instance variable are separated in different places.</p><p>Swift cancels the instance variable rules, and use <strong>a simple way to declare the propertied</strong> of an instance, define the name, type, memory management characteristics in a single location.</p><h2 id=computed-properties>Computed Properties<a hidden class=anchor aria-hidden=true href=#computed-properties>#</a></h2><p>In classes, structures, and enumerations, we provide a <strong>getter and setter</strong> to retrieve and set properties and values indirectly.</p><p>Using computed properties, we can compute something else of the class’s from the other properties.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Bag</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> bookCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> penCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> objectCount: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> bookCount <span style=color:#f92672>+</span> penCount
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> (count) {
</span></span><span style=display:flex><span>            bookCount = Int(Double(count) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.8</span>)
</span></span><span style=display:flex><span>            penCount = Int(Double(count) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.2</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> bag = Bag(bookCount: <span style=color:#ae81ff>1</span>, penCount: <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(bag.objectCount)  <span style=color:#75715e>// Here use the getter. Print 「3」</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bag.objectCount = <span style=color:#ae81ff>10</span>    <span style=color:#75715e>// Here use the setter. The temporary parameter &#39;count&#39; is assignes to 10.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(bag.objectCount)  <span style=color:#75715e>// 10</span>
</span></span><span style=display:flex><span>print(bag.bookCount)    <span style=color:#75715e>// 8</span>
</span></span><span style=display:flex><span>print(bag.penCount)     <span style=color:#75715e>// 2</span>
</span></span></code></pre></div><p>The setter has a shorter form of declaration. It must use the <code>newValue</code> to grab the temporary parameter.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>set</span> {
</span></span><span style=display:flex><span>        bookCount = Int(Double(newValue) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.8</span>)
</span></span><span style=display:flex><span>        penCount = Int(Double(newValue) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.2</span>)
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>The getter has a shorter form of declaration. It write the code with one line and as the return expression.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>get</span> {
</span></span><span style=display:flex><span>		 bookCount <span style=color:#f92672>+</span> penCount
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=read-only-computed-properties>Read-Only Computed Properties<a hidden class=anchor aria-hidden=true href=#read-only-computed-properties>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Bag</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> bookCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> penCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> objectCount: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> {
</span></span><span style=display:flex><span>            bookCount <span style=color:#f92672>+</span> penCount
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Read-Only in a shorter form:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Bag</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> bookCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> penCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> objectCount: Int {
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> bookCount <span style=color:#f92672>+</span> penCount
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Omit the <code>return</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Bag</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> bookCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> penCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> objectCount: Int {
</span></span><span style=display:flex><span>       bookCount <span style=color:#f92672>+</span> penCount
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The read-only computed properties are useful for an external user to discover the <code>Bag</code> ’s current status.</p><h2 id=property-observers>Property Observers<a hidden class=anchor aria-hidden=true href=#property-observers>#</a></h2><p>The observer can observe and respond to changes in a property’s value.</p><p>The observer can’t be provide together with getter or setter.</p><p>Only can add property in these places:</p><ul><li><p>Stored properties that we define.</p></li><li><p>Stored properties that we inherit.</p><p>For an inherit property, add a property observer by overriding that property in a subclass.</p></li><li><p>Computed properties that we inherit.</p><p>Use property’s setter to observe and responds to value changes, instead of creating an observer.</p></li></ul><p>Define either or both of these observers on a property.</p><ul><li><code>willSet</code> is called before the value is stored. (pass the new property value as a constant, it has a default name of <code>newValue</code>)</li><li><code>disSet</code> is called immediately after the new value is stored.(pass the last old property value as a constant, it has a default name of <code>oldValue</code>)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Bag</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> bookCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> penCount: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> objectCount: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>willSet</span> (newCount) {
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Will set the count </span><span style=color:#e6db74>\(</span>newCount<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)   <span style=color:#75715e>// 2</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> {
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Has set the count, the olValue is </span><span style=color:#e6db74>\(</span>oldValue<span style=color:#e6db74>)</span><span style=color:#e6db74>, and add </span><span style=color:#e6db74>\(</span>objectCount <span style=color:#f92672>-</span> oldValue<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)  <span style=color:#75715e>// 0 2</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> bag = Bag(objectCount: <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bag.objectCount = <span style=color:#ae81ff>2</span>  <span style=color:#75715e>// Here trigger the wiilSet and then trigger the didSet. The newValue is 2, and the oldValue is 0.</span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;After change, objectCount: </span><span style=color:#e6db74>\(</span>bag.objectCount<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>) <span style=color:#75715e>// 2</span>
</span></span></code></pre></div><p>The observer in the superclass can observe the properties’ action in the subclass.</p><ul><li>The subclass set the superclass’s property after the superclass’s initializer has been called.</li><li>If the superclass’s initializer hasn’t been called, the observer can not work.</li></ul><h2 id=property-wrappers>Property Wrappers<a hidden class=anchor aria-hidden=true href=#property-wrappers>#</a></h2><p>It can wrap the data and the code together as a code block. Using property wrapper can reduce the repeated codes.</p><p>Here is an example that store a number less than 12 or equals to 12. The wrappedValue must used explicitly.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Num</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> number = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> wrappedValue: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> {<span style=color:#66d9ef>return</span> number}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> {number = min(newValue, <span style=color:#ae81ff>12</span>)}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Rectangle</span> {
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> width: Int   <span style=color:#75715e>// It declares that the var use the rule of the propertyWrapper</span>
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> height: Int
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> rect = Rectangle()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(rect.width)  <span style=color:#75715e>// Call the &#39;get&#39; function</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rect.height = <span style=color:#ae81ff>10</span>   <span style=color:#75715e>// Call the &#39;set&#39; function</span>
</span></span></code></pre></div><p>Another way to use the propertyWrapper</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Rectangle</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> _height = Num()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> _width  = Num()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> height: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span>{ <span style=color:#66d9ef>return</span> _height.wrappedValue }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span>{ _height.wrappedValue = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> width: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span>{ <span style=color:#66d9ef>return</span> _width.wrappedValue}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span>{ _width.wrappedValue = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=setting-initial-values-for-wrapped-properties>Setting Initial Values for Wrapped Properties<a hidden class=anchor aria-hidden=true href=#setting-initial-values-for-wrapped-properties>#</a></h3><p>In default, use the <code>wrppedValue</code> to catch the input implicitly.</p><p>Override the initial function so to provide several ways to to init a <code>Num</code> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Num</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> maximum: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> number: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> wrappedValue: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> number}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { number = min(newValue, maximum)}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        maximum = <span style=color:#ae81ff>12</span>
</span></span><span style=display:flex><span>        number = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(wrappedValue: Int) {
</span></span><span style=display:flex><span>        maximum = <span style=color:#ae81ff>12</span>
</span></span><span style=display:flex><span>        number = wrappedValue
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(wrappedValue: Int, maximum: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.maximum = maximum
</span></span><span style=display:flex><span>        number = wrappedValue
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The initialization without parameter.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ZeroRectangle</span> {
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> width: Int
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> height: Int
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> zeroRect = ZeroRectangle()
</span></span></code></pre></div><p>The initialization with one default parameter <code>wrappedValue</code> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>UnitRectangle</span> {
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> width: Int = <span style=color:#ae81ff>1</span>  <span style=color:#75715e>// It call the init</span>
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> height: Int = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> unitRect = UnitRectangle()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Or in this way</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>UnitRectangle</span> {
</span></span><span style=display:flex><span>    @Num(wrappedValue: <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>var</span> width: Int 
</span></span><span style=display:flex><span>    @Num(wrappedValue: <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>var</span> height: Int
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> unitRect = UnitRectangle()
</span></span></code></pre></div><p>The initialization with two parameters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>NarrowRectangle</span> {
</span></span><span style=display:flex><span>    @Num(wrappedValue: <span style=color:#ae81ff>2</span>, maximum: <span style=color:#ae81ff>5</span>) <span style=color:#66d9ef>var</span> width: Int
</span></span><span style=display:flex><span>    @Num(wrappedValue: <span style=color:#ae81ff>3</span>, maximum: <span style=color:#ae81ff>4</span>) <span style=color:#66d9ef>var</span> height: Int
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> narrowRect = NarrowRectangle()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Or in this way</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>NarrowRectangle</span> {
</span></span><span style=display:flex><span>    @Num(wrappedValue: <span style=color:#ae81ff>2</span>, maximum: <span style=color:#ae81ff>5</span>) <span style=color:#66d9ef>var</span> width: Int
</span></span><span style=display:flex><span>    @Num(maximum: <span style=color:#ae81ff>4</span>) <span style=color:#66d9ef>var</span> height: Int = <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> narrowRect = NarrowRectangle()
</span></span></code></pre></div><p>The default parameter <code>wrappedValue</code> is used to pass input implicitly.</p><h3 id=project-a-value-from-a-property-wrapper>Project a Value From a Property Wrapper<a hidden class=anchor aria-hidden=true href=#project-a-value-from-a-property-wrapper>#</a></h3><p>Declare the var name <code>projectedValue</code> in a property wrapper.</p><p>It can store some information such as <strong>track the change of the property</strong>, and then the outside caller can get the information from the projectedValue.
It can be accessed via the dollar sign <code>$</code> , when the outside caller has the permission to access.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Num</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span>  number: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span>(<span style=color:#66d9ef>set</span>) <span style=color:#66d9ef>var</span> projectedValue: Bool  <span style=color:#75715e>// The projectedValue&#39;s set function is declare as private.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> wrappedValue: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> number}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { 
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> newValue <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>12</span> {
</span></span><span style=display:flex><span>                number = <span style=color:#ae81ff>12</span>
</span></span><span style=display:flex><span>                projectedValue = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                number = newValue
</span></span><span style=display:flex><span>                projectedValue = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.projectedValue = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.number = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Rectangle</span> {
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> width: Int
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> rect = Rectangle()
</span></span><span style=display:flex><span>rect.width = <span style=color:#ae81ff>15</span> <span style=color:#75715e>// The number is private, it will be affect via the `set` function.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(rect.<span style=color:#960050;background-color:#1e0010>$</span>width)  <span style=color:#75715e>// Use the dollar sign to access the projectedValue.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// rect.$width = false // It can&#39;t work, the outside caller can&#39;t call the projectedValue&#39;s private function &#39;set&#39;</span>
</span></span></code></pre></div><h2 id=global-and-local-variables>Global and Local Variables<a hidden class=anchor aria-hidden=true href=#global-and-local-variables>#</a></h2><ul><li><p>Global</p><p>It is defined outside any function, method, closure, or type context.</p><p>Global constants and variables are <strong>always</strong> <strong>lazily</strong>.</p></li><li><p>Local</p><p>It is defined in any function, method, closure, or type context.</p><p>Local constants and variables are never computed lazily.</p></li></ul><h3 id=stored-variables>Stored Variables<a hidden class=anchor aria-hidden=true href=#stored-variables>#</a></h3><ul><li>provide storage for a value of a certain type and allow that value to be set and retrieved.</li></ul><p>Observer is available for the stored variable and computed variable in a global or local scope.</p><p>Property wrapper can be use to a stored variable, but not to a global variable or a computed variable.</p><p>Here’s a function’s local stored variable (count) use the wrapper property (Num).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>doSomething</span>() {
</span></span><span style=display:flex><span>    @Num <span style=color:#66d9ef>var</span> count: Int
</span></span><span style=display:flex><span>    _count.number = <span style=color:#ae81ff>12</span>   <span style=color:#75715e>// The &#39;number&#39; requires the wrapper &#39;Num&#39; so it use a underscore to indicate the wrapper.</span>
</span></span><span style=display:flex><span>    print(_count.number)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=instance-properties>Instance Properties<a hidden class=anchor aria-hidden=true href=#instance-properties>#</a></h2><p>Every time we create a new instance of that type, it has it own set of property values, separate from any other instance.</p><h2 id=type-properties>Type Properties<a hidden class=anchor aria-hidden=true href=#type-properties>#</a></h2><ul><li>If we define a property belong to the type itself, it’s called type property. All instance of that type share this one type property. (like static property in Java class)</li><li>Stored type properties can be variables or constants.</li><li>Computed type properties are always declared as variable properties, in the same way as computed instance properties.</li><li>Need default value.</li><li>Lazily initialized on first access. Be initialized only once, even when accessed by multiple threads simultaneously.</li></ul><h3 id=type-property-syntax>Type Property Syntax<a hidden class=anchor aria-hidden=true href=#type-property-syntax>#</a></h3><p>Define type property with <code>static</code> keyword.</p><p>In a class, use <code>class</code> instead the <code>static</code> to override the superclass’s implementation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ShortSize</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> name = <span style=color:#e6db74>&#34;Short&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> store: Int = <span style=color:#ae81ff>1</span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> size: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> store}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { store = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>MediumSize</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> name = <span style=color:#e6db74>&#34;Medium&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> store: Int = <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> size: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> store }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { store = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LongSize</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> name = <span style=color:#e6db74>&#34;Long&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> store: Int = <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> size: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span>  store}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { store = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>var</span> sizeFromSuper: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> store }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { store = <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Use the type properties</span>
</span></span><span style=display:flex><span>print(ShortSize.name)
</span></span><span style=display:flex><span>print(ShortSize.size)
</span></span></code></pre></div><p>Setting the Type Properties</p><ul><li><p>setting</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ShortSize</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> name = <span style=color:#e6db74>&#34;Short&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> store: Int = <span style=color:#ae81ff>1</span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> ShortSize.store}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>set</span> { ShortSize.store = newValue}
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> shortSize = ShortSize()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> shortSizeAnother = ShortSize()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(shortSize.size)       
</span></span><span style=display:flex><span>print(shortSizeAnother.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>shortSize.size = <span style=color:#ae81ff>15</span>         <span style=color:#75715e>// It will change the sharing variable &#39;store&#39; (type property)</span>
</span></span><span style=display:flex><span>print(shortSize.size)
</span></span><span style=display:flex><span>print(shortSizeAnother.size)
</span></span></code></pre></div><ul><li><p>Result</p><p>1
1
15
15</p></li></ul></li></ul><p>Use the observer to respond to the change of the variable and to affect the type property.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Channel</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> maxLevel: Int = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> maxInput: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> currentLevel: Int {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> currentLevel <span style=color:#f92672>&gt;</span> Channel.maxLevel {
</span></span><span style=display:flex><span>                currentLevel = Channel.maxLevel  <span style=color:#75715e>// It set the currentLevel, but it doesn&#39;t call the observer again.</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> currentLevel <span style=color:#f92672>&gt;</span> Channel.maxInput {
</span></span><span style=display:flex><span>                Channel.maxInput = currentLevel
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> channel = Channel(currentLevel: <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>channel.currentLevel <span style=color:#f92672>+=</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>print(Channel.maxInput)
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://1-1.link/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/>编程语言</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Properties on twitter" href="https://twitter.com/intent/tweet/?text=Properties&amp;url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f10properties%2f&amp;hashtags=%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Properties on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f10properties%2f&title=Properties"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Properties on telegram" href="https://telegram.me/share/url?text=Properties&amp;url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f10properties%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://1-1.link>CodePaper</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>