<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Initialization | CodePaper</title><meta name=keywords content="编程语言"><meta name=description content="The class&rsquo;s initializer set the original state for the object."><meta name=author content><link rel=canonical href=https://1-1.link/post/language/swift/14initialization/><link crossorigin=anonymous href=/assets/css/stylesheet.6e97a6b79be998515e8c86c68e32a9f7a90e6917f550d2af32568b717f5ca785.css integrity="sha256-bpemt5vpmFFejIbGjjKp96kOaRf1UNKvMlaLcX9cp4U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://1-1.link/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://1-1.link/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://1-1.link/favicon-32x32.png><link rel=apple-touch-icon href=https://1-1.link/apple-touch-icon.png><link rel=mask-icon href=https://1-1.link/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Initialization"><meta property="og:description" content="The class&rsquo;s initializer set the original state for the object."><meta property="og:type" content="article"><meta property="og:url" content="https://1-1.link/post/language/swift/14initialization/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-04-30T16:00:40+08:00"><meta property="article:modified_time" content="2022-04-30T16:00:40+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Initialization"><meta name=twitter:description content="The class&rsquo;s initializer set the original state for the object."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":3,"name":"Initialization","item":"https://1-1.link/post/language/swift/14initialization/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Initialization","name":"Initialization","description":"The class\u0026rsquo;s initializer set the original state for the object.","keywords":["编程语言"],"articleBody":"Initialization is the process of preparing an instance of a class, structure or enumeration for use.\nProperties were set as an initial value.\nInitializers are the implements of the process of initialization.\nThe initializers can be override.\nUnlike Object-C, Swift initialization has no return value.\nInitialization for an Instance Classes and structures must set all of their stored properties to an appropriate initial value when using the initializer. (When assign a default value to a stored property or set its value within an initializer, the property is set directly without calling any property observers)\nclass Cake { // Set the 'size' property with a default value 6 when it's defined. It doesn't tirgger any observers. var size = 6 { didSet { print(\"Size has been set\") } } var price: Double { didSet { print(price) } } // Initializer init () { price = 0.0 } } var cake = Cake() // The initializer assign the price as 0.0, it doesn't trigger any observers. cake.size = 9 // The size's observer triggered. cake.price = 22 // The price's observer triggered. // Print: // Size has been set // 22.0 Customizing Initialization Define multiple initializer for the class.\nclass Cake { var size = 6 { didSet { print(\"Size has been set\") } } var price: Double { didSet { print(price) } } init () { price = 0.0 } init (price: Double) { self.price = price } init (size: Int, price: Double) { self.size = size // It doesn't trigger any obserbers. self.price = price // It doesn't trigger any obserbers. } } // Now we create three cakes. They will trigger no observers. var defaultCake = Cake() var cake = Cake(price: 15) var myCake = Cake(size: 7, price: 18) Omit Argument Labels\nclass Cake { var size = 6 var price: Double init () { price = 0.0 } init (_ price: Double) { self.price = price } init (_ size: Int, _ price: Double) { self.size = size self.price = price } } var defaultCake = Cake() var cake = Cake(15) var myCake = Cake(7, 18) // The compiler calls the specific initializer by checking parmeters' pattern, such as type and count. Optional Property Types A stored property has “no value”, it will be automatically assigned a default value of nil .\nclass Cake { var size = 6 var price: Double? // Optional, it will be assigned as nil. init () { } } Assigning Constant Properties During Initialization Constant properties\ncan be assigned at any point during initialization. Once it’s assigned, we can’t change it any more. can’t be modify by a subclass. Assign the constant property during initialization.\nclass Cake { let price: Double = 22 init () { price = 22 // price = 23 // not allowed } } Assign the constant property by default value.\nclass Cake { let price: Double = 22 init () { // price = 23 // not allowed } } Default Initializers Swift provide a default initializer for any structure or class that provide default values for all of its properties.\nclass Cake { let price: Double = 0 var desc: String? // It get nil in default. } var cake = Cake() Member-wise Initializers for Structure Types Unlike a default initializer, the member-wise initializer can assign the arguments to the properties automatically, even if the properties have no default value.\nAn example that the properties without default value.\nstruct Cake { let price: Double var desc: String? } var cake = Cake(price: 12) var bigCake = Cake(price: 50, desc: \"Big\") Another example that the properties with default.\nstruct Size { var width = 0.0, height = 0.0 } var small = Size() var medium = Size(width: 4) var big = Size(width: 10, height: 10) Initializer Delegation for Value Types A initializer can call another initializer to do some work, so to avoid some duplicate code.\nClass type It has inheritance. The classes has additional responsibility for ensuring that all stored properties they inherit are assigned a suitable value during initialization. Value Type (structures and enumerations) Without inheritance, it can only delegate to another initializer that they provide themselves. Use self.init to refer to other initializers from the same type in the custom initializer. Once define a custom initializer for a value type, we will no longer have access to the default initializer or the member-wise initializer. Write the custom initializers in an extension when want to use both default initializer and member-wise initializer. struct Size { var width = 0.0, height = 0.0 } struct Point { var x = 0.0, y = 0.0 } struct Rect { var origin = Point() var size = Size() init() {} init(origin: Point, size: Size) { self.origin = origin self.size = size } init(center: Point, size: Size) { let originX = center.x - (size.width / 2) let originY = center.y - (size.height / 2) self.init(origin: Point(x: originX, y: originY), size: size) } } Class Inheritance and Initialization Swift design designated initializers and convenience initializers to ensure all stored properties receive an initial value.\nDesignated Initializers They are the primary initializer for class. Every class must have at least one designated initializer.\nClasses tend to have very few designated initializers, always have only one.\nIt just like the root of a tree , which initialization takes place, and through which the process continues up the superclass chain.\nSyntax:\ninit( parmeters ) {} Convenience Initializers They are secondary supporting initializers for a class.\nIt can call the designated initializer by self.init() .\nOverride the convenience initializers to provide multiple way to create an instance of the class.\nSyntax:\nconvenience init( parmeters ) {} Initializer Delegation for Class Types Rules for delegation calls between initializers:\nA designated initializer must call a designated initializer from its immediate superclass. A convenience initializer must call another initializer from the same class. A convenience initializer must ultimately call a designated initializer. Two-Phase Initialization The initialization process:\nFirst phase: each stored property is assigned an initial value. Second phase: each class is given the opportunity to customize its stored properties. Instance ready to use. Safety Check (Swift check during compile-time):\nA designated initializer must ensure that all of the properties introduced by its class are initialized before it delegate up to a superclass initializer. A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designate initializer assign will be overwritten by the superclass as part of its own initialization. A convenience initializer must delegate to another initializer before assigning a value to any property. If doesn’t, the new value the convenience initializer assign will be overwritten by it own class’s designated initializer. An initializer can’t call any instance methods, read the values of any instance properties, or refer to self as a value until after the first phase of initialization is complete. Process the delegate in the subclass:\nFirst phase of the initialization. Ensure all properties were initialized. Call superclass’s designated initializer. (Initializer Delegation) Assign values to the inherited properties from the superclass. The call chain: designated init \u003c- convenience init \u003c- convenience init\nclass Cake { var size: Int var price: Int init() { size = 6 price = 10 } convenience init(size: Int) { self.init() self.size = size } convenience init(size: Int, price: Int) { self.init(size: size) // Convenience init must call another init before properties assigning. // It will ultimately call designated init. self.price = price } } class CheeseCake: Cake { var cheese: Int // If subcalss want to customize designated init, it should use 'override' together. override init(){ self.cheese = 10 // Ensure properties' initialization before delegate up. super.init() // Delegate up self.cheese = 15 // Assign to property after the delegate up. self.size = 7 // Assigning to inherited property must after delegate up. self.price = 22 } } The class instance isn’t fully valid until the first phase ends. Properties can only be accessed, and methods can only be called, once the class instance is known to be valid at the end of the first phase.\nPhase 1 Convenience initializer -\u003e … -\u003e Designated initializer -\u003e superclass’s designated initializer\nInitialize own stored properties, and then go to the superclass’s designated initializer to initialize the inherited properties.\nA designated or convenience initializer is called on a class. Allocate memory for new instance, but is not yet initialized. Designated initializer confirm all stored properties and initialize them. The designated initializer hands off to a superclass initializer to perform the same task for its own stored properties. (run superclass initializer) This continues up to the top the chain (the base class’s initializer) Once reach the top of the chain, the base class has ensure that all of its stored properties have a value, the instance is now fully initialized, phase 1 complete. Phase 2 superclass’s designated initializer -\u003e designated initializer -\u003e … -\u003e convenience initializer\nFinish the designated initializer and the called convenience initializers.\nWorking back down from the top of the chain, each designated initializer in the chain has the option to customize the instance further. Initializers are now able to access self and can modify its properties and call its instance’s method. Finally, any convenience initializers in the chain have the option to customize the instance and work with self . Initializer Inheritance and Overriding In common, subclasses don’t inherit superclass’s initializers by default. But only in certain circumstances when it’s safe and appropriate to do so.\nclass CheeseCake: Cake { var cheese: Int = 10 } var cake = CheeseCake(size: 7, price:22) When the designate initializer matches the superclass’s initializer, it need override.\nclass CheeseCake: Cake { var cheese: Int override init(){ self.cheese = 10 super.init() self.cheese = 15 self.size = 7 self.price = 22 } } When the designate initializer matches the superclass’s initializer, omit the override , it’s overwrite. The code below show the overwriting of convenience initializer from superclass.\nclass CheeseCake: Cake { var cheese: Int = 10 convenience init(size: Int, price: Int) { self.init() self.size = size self.price = price self.cheese = 10 } } The implicitly call of super.init() , it works when the superclass has only one initializer init().\nclass CheeseCake: Cake { var cheese: Int init(cheese: Int) { self.cheese = cheese // super.init() implicitly called here } convenience init(size: Int, price: Int) { self.init(cheese: 15) self.size = size self.price = price } } var cake = CheeseCake(cheese: 15) Automatic Initializer Inheritance Rule 1\nIf the subclass doesn’t define any designated initializers, it automatically inherit all of its superclass designated initializer. Rule 2\nIf subclass provides an implementation of all of its superclass designated initializers(include the rule 1). Then it automatically inherits all of the superclass convenience initializers. Even if the subclass adds further convenience initializers, these rules work.\nThe code below is an example of rule 1.\nclass CheeseCake: Cake { var cheese: Int = 1 } var cake = CheeseCake() // It call the init which inherited from the superclass. The code below is an example of rule 2.\nclass CheeseCake: Cake { var cheese: Int override init() { self.cheese = 10 super.init() } init(cheese: Int) { self.cheese = cheese } convenience init(size: Int, price: Int) { self.init(cheese: 15) self.size = size self.price = price } } var cake = CheeseCake(size: 7) // The initializer 'convenience init(size: Int)' is automactically inherited from the superclass. A subclass can implement a superclass designated initializer as a subclass convenience initializer as part of satisfying rule 2.\nclass Cake { var size: Int var price: Int init() { size = 6 price = 10 } init(size: Int, price: Int) { self.size = size self.price = price } convenience init(size: Int) { self.init() self.size = size } } class CheeseCake: Cake { var cheese: Int override init() { self.cheese = 10 super.init() } init(cheese: Int) { self.cheese = cheese super.init() } // Implement superclass designated initializer as a subclass convenience override convenience init(size: Int, price: Int) { self.init(cheese: 15) self.size = size self.price = price } } var cake = CheeseCake(size: 7) Designated and Convenience Initializers in Action Classes don’t have a default member-wise initializer. (Structure )\nclass Food { var name: String init(name: String) { self.name = name } convenience init() { self.init(name: \"default\") } } class Pie: Food { var area: Int override convenience init(name: String) { self.init(name: \"default\", area: 4) self.name = name // It must call after the super.init } init(name: String, area: Int) { self.area = area super.init(name: name) self.name = name } } class ApplePie: Pie { } var pie = ApplePie() var applePie = ApplePie(name: \"pumpPie\") var bigApplePie = ApplePie(name: \"pumpPie\", area: 20) print(\"\\(pie.name): \\(pie.area)\") print(\"\\(applePie.name): \\(applePie.area)\") print(\"\\(bigApplePie.name): \\(bigApplePie.area)\") Result:\ndefault: 4 pumpPie: 4 pumpPie: 20\nFail-able Initializers Place a question mark after the init keyword(init?).\nwe can‘t define a fail-able and a non-fail-able initializer with the same parameter types and names.\nFail-able initializer\ncreate an optional value of the type it initializes. write return nil within a fail-able initializer to indicate a point at which can trigger initialization failure. (don’t use return keyword to indicate the initialization success) Example:\n// Int(exactly: ) let num: Double = 22 let pi = 3.1415 if let value = Int(exactly: num) { print(\"\\(num) \\(value)\") } else { print(\"conversion fail\") } // Print: 22.0 22 // The value not match the type int let num: Double = 22.1 let pi = 3.1415 if let value = Int(exactly: num) { print(\"\\(num) \\(value)\") } else { print(\"conversion fail\") } // Print: conversion fail Use a fail-able initializer init a structure and check if the initialization succeeded.\nstruct Animal { let species: String init?(species: String) { if species.isEmpty { return nil} self.species = species } } let creature = Animal(species: \"Giraffe\") if let giraffe = creature { print(\"The giraffe init succeeded\") } else { print(\"The giraffe init fail\") } // Print: The giraffe init succeeded let cat = Animal(species: \"\") if let c = cat { print(\"cat inited successful\") } else { print(\"cat init fail\") } // Print: cat init fail // The empty string has a length of 0, but it's not a nil. Fail-able Initializer for Enumerations If the given state is not found in the cases, return nil .\nenum Rank { case low, midium, high init?(rank: String) { switch rank { case \"L\": self = .low case \"M\": self = .midium case \"H\": self = .high default: return nil } } } var rank = Rank(rank: \"H\") print(rank) // Optional(Page_Contents.Rank.high) var r = Rank(rank: \"C\") print(r) // nil Use in rawValue\nenum Rank: String { case low = \"L\", midium = \"M\", high = \"H\" } var rank = Rank(rawValue: \"H\") print(rank) // Optional(Page_Contents.Rank.high) var r = Rank(rawValue: \"C\") print(r) // nil Propagation of Initialization Failure A fail-able initializer of a class, structure, or enumeration can delegate across to another fail-able initializer from the same class, structure, or enumeration. A subclass fail-able initializer can delegate up to a superclass fail-able initializer. A fail-able initializer can delegate to a non-fail-able initializer. If delegate to another initializer that cause initialization fail, the entire initialization process fails immediately, and no further initialization code is executed.\nHere is an example that the subclass fail-able initializer delegate to the superclass fail-able initializer:\nclass Product { let name: String init?(name: String) { if name.isEmpty { print(\"Name empty, super class init fail\") return nil } self.name = name } } class CartItem: Product { let quantity: Int init?(name: String, quantity: Int) { if quantity \u003c 1 { print(\"No Quantity, subclass init fail\") return nil } self.quantity = quantity super.init(name: name) } } var itemNoName = CartItem(name: \"\", quantity: 2) var itemNoQuantity = CartItem(name: \"Apple\", quantity: 0) var item = CartItem(name:\"Pen\", quantity: 3) print(itemNoName) print(itemNoQuantity) print(item) // Print: // Name empty, super class init fail // No Quantity, subclass init fail // nil // nil // Optional(Page_Contents.CartItem) Overriding a Fail-able Initializer Override a superclass fail-able initializer in a subclass. Override a superclass fail-able initializer with a subclass non-fail-able initializer. The only way to delegate up to the fail-able initializer is to force-unwrap the result of the fail-able initializer. Can’t override a non-fail-able initializer with a fail-able initializer. class Doc { var name: String? init() {} init?(name: String) { if name.isEmpty { return nil} self.name = name } convenience init(size: Int, name: String) { self.init(name: name)! // Delegate up to the fail-able initializer as part of the implementation. // If the name is empty, it will trigger runtime-error. } } class FileDoc: Doc { override init() { super.init() self.name = \"[Untilted]\" } // Override the superclass fail-able initializer with a subclass non-fail-able initializer. override init(name: String) { super.init() if name.isEmpty { self.name = \"[Untitled]\" } else { self.name = name } } } Use forced unwrapping in an initializer to call a fail-able initializer from the superclass as part of the implement of a subclass’s non-fail-able initializer.\nclass FileDoc: Doc { override init() { super.init(name: \"[Untitled]\")! } } class MessageDoc: Doc { var size: Int init(size: Int) { self.size = size super.init(name: \"[Untitled]\")! } } init! Fail-able Initializer The init! will implicitly unwrapped the optional result.\nclass Doc { var name: String? init() {} init!(name: String) { if name.isEmpty { return nil} self.name = name } } class FileDoc: Doc { override init() { super.init(name: \"[Untitled]\") } } Required Initializers Write the required modifier before the definition of a class initializer to indicate that every subclass of the class must implement that initializer.\nDon’t write the override keyword.\nclass Animal { required init() { print(\"Fine\") } } class Cat: Animal { required init() { print(\"Cat\") } } var cat = Cat() // Print: // Cat // Fine Setting a Default Property Value with a Closure or Function The closure init before the initializer, so we can’t use self within the closure.\nWith parentheses, the closure’s return value (or result) will be assign to the property.\nclass Cake { var name: String = { print(\"fine\") return \"cake\" }() // The parentheses after the closure means that it's a calling. The closure executed immediately. } var cake = Cake() // Print: fine print(cake.name) // Print: cake Without parentheses, the closure itself is to assign to the property.\nclass Cake { var name: () -\u003e String = { print(\"fine\") return \"cake\" } } var cake = Cake() // Hasn't called the closure print(cake.name) // Print: (Function) cake.name() Example:\nclass ChessBoard { var boardColors: [Bool] = { var isBlack = false var board: [Bool] = [] for i in 1...8 { for j in 1...8 { board.append(isBlack) isBlack = !isBlack } } return board }() func getIsBlack(row: Int, col: Int) -\u003e Bool { return boardColors[(row * 8) + col] } } var b = ChessBoard() print(b.getIsBlack(row: 2, col: 3)) // Print: true print(b.getIsBlack(row: 4, col: 4)) // Print: false ","wordCount":"3128","inLanguage":"en","datePublished":"2022-04-30T16:00:40+08:00","dateModified":"2022-04-30T16:00:40+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://1-1.link/post/language/swift/14initialization/"},"publisher":{"@type":"Organization","name":"CodePaper","logo":{"@type":"ImageObject","url":"https://1-1.link/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://1-1.link accesskey=h title="CodePaper (Alt + H)">CodePaper</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://1-1.link/archive/ title=档案><span>档案</span></a></li><li><a href=https://1-1.link/categories/ title=类别><span>类别</span></a></li><li><a href=https://1-1.link/tags/ title=标签><span>标签</span></a></li><li><a href=https://1-1.link/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://1-1.link/about/ title=关于我><span>关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://1-1.link>Home</a></div><h1 class=post-title>Initialization</h1><div class=post-meta><span title='2022-04-30 16:00:40 +0800 +0800'>April 30, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#initialization-for-an-instance aria-label="Initialization for an Instance">Initialization for an Instance</a></li><li><a href=#customizing-initialization aria-label="Customizing Initialization">Customizing Initialization</a><ul><li><a href=#optional-property-types aria-label="Optional Property Types">Optional Property Types</a></li><li><a href=#assigning-constant-properties-during-initialization aria-label="Assigning Constant Properties During Initialization">Assigning Constant Properties During Initialization</a></li></ul></li><li><a href=#default-initializers aria-label="Default Initializers">Default Initializers</a><ul><li><a href=#member-wise-initializers-for-structure-types aria-label="Member-wise Initializers for Structure Types">Member-wise Initializers for Structure Types</a></li></ul></li><li><a href=#initializer-delegation-for-value-types aria-label="Initializer Delegation for Value Types">Initializer Delegation for Value Types</a><ul><li><a href=#class-type aria-label="Class type">Class type</a></li><li><a href=#value-type-structures-and-enumerations aria-label="Value Type (structures and enumerations)">Value Type (structures and enumerations)</a></li></ul></li><li><a href=#class-inheritance-and-initialization aria-label="Class Inheritance and Initialization">Class Inheritance and Initialization</a><ul><li><a href=#designated-initializers aria-label="Designated Initializers">Designated Initializers</a></li><li><a href=#convenience-initializers aria-label="Convenience Initializers">Convenience Initializers</a></li><li><a href=#initializer-delegation-for-class-types aria-label="Initializer Delegation for Class Types">Initializer Delegation for Class Types</a></li><li><a href=#two-phase-initialization aria-label="Two-Phase Initialization">Two-Phase Initialization</a></li><li><a href=#phase-1 aria-label="Phase 1">Phase 1</a></li><li><a href=#phase-2 aria-label="Phase 2">Phase 2</a></li><li><a href=#initializer-inheritance-and-overriding aria-label="Initializer Inheritance and Overriding">Initializer Inheritance and Overriding</a></li><li><a href=#automatic-initializer-inheritance aria-label="Automatic Initializer Inheritance">Automatic Initializer Inheritance</a></li><li><a href=#designated-and-convenience-initializers-in-action aria-label="Designated and Convenience Initializers in Action">Designated and Convenience Initializers in Action</a></li></ul></li><li><a href=#fail-able-initializers aria-label="Fail-able Initializers">Fail-able Initializers</a><ul><li><a href=#fail-able-initializer-for-enumerations aria-label="Fail-able Initializer for Enumerations">Fail-able Initializer for Enumerations</a></li><li><a href=#propagation-of-initialization-failure aria-label="Propagation of Initialization Failure">Propagation of Initialization Failure</a></li><li><a href=#overriding-a-fail-able-initializer aria-label="Overriding a Fail-able Initializer">Overriding a Fail-able Initializer</a></li><li><a href=#init-fail-able-initializer aria-label="init! Fail-able Initializer"><code>init!</code> Fail-able Initializer</a></li></ul></li><li><a href=#required-initializers aria-label="Required Initializers">Required Initializers</a></li><li><a href=#setting-a-default-property-value-with-a-closure-or-function aria-label="Setting a Default Property Value with a Closure or Function">Setting a Default Property Value with a Closure or Function</a></li></ul></div></details></div><div class=post-content><p>Initialization is the process of preparing an instance of a class, structure or enumeration for use.</p><p>Properties were set as an initial value.</p><p>Initializers are the implements of the process of initialization.</p><p>The initializers can be override.</p><p>Unlike Object-C, Swift initialization has no return value.</p><h2 id=initialization-for-an-instance>Initialization for an Instance<a hidden class=anchor aria-hidden=true href=#initialization-for-an-instance>#</a></h2><p>Classes and structures must set all of their stored properties to an appropriate initial value when using the initializer. <strong>(When assign a default value to a stored property or set its value within an initializer, the property is set directly without calling any property observers)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Set the &#39;size&#39; property with a default value 6 when it&#39;s defined. It doesn&#39;t tirgger any observers.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size = <span style=color:#ae81ff>6</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> {
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Size has been set&#34;</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Double {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> {
</span></span><span style=display:flex><span>            print(price)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Initializer</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake()  <span style=color:#75715e>// The initializer assign the price as 0.0, it doesn&#39;t trigger any observers.</span>
</span></span><span style=display:flex><span>cake.size = <span style=color:#ae81ff>9</span>      <span style=color:#75715e>// The size&#39;s observer triggered.</span>
</span></span><span style=display:flex><span>cake.price = <span style=color:#ae81ff>22</span>    <span style=color:#75715e>// The price&#39;s observer triggered.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: </span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Size has been set</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 22.0</span>
</span></span></code></pre></div><h2 id=customizing-initialization>Customizing Initialization<a hidden class=anchor aria-hidden=true href=#customizing-initialization>#</a></h2><p>Define multiple initializer for the class.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size = <span style=color:#ae81ff>6</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> { print(<span style=color:#e6db74>&#34;Size has been set&#34;</span>) }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Double {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>didSet</span> { print(price) }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> (price: Double) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> (size: Int, price: Double) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size   <span style=color:#75715e>// It doesn&#39;t trigger any obserbers.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price <span style=color:#75715e>// It doesn&#39;t trigger any obserbers.</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Now we create three cakes. They will trigger no observers.</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> defaultCake = Cake()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake(price: <span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> myCake = Cake(size: <span style=color:#ae81ff>7</span>, price: <span style=color:#ae81ff>18</span>)
</span></span></code></pre></div><p>Omit Argument Labels</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size = <span style=color:#ae81ff>6</span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Double 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> (<span style=color:#66d9ef>_</span> price: Double) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> (<span style=color:#66d9ef>_</span> size: Int, <span style=color:#66d9ef>_</span> price: Double) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size   
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> defaultCake = Cake()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake(<span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> myCake = Cake(<span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>18</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// The compiler calls the specific initializer by checking parmeters&#39; pattern, such as type and count.</span>
</span></span></code></pre></div><h3 id=optional-property-types>Optional Property Types<a hidden class=anchor aria-hidden=true href=#optional-property-types>#</a></h3><p>A stored property has “no value”, it will be automatically assigned a default value of <code>nil</code> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size = <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Double?   <span style=color:#75715e>// Optional, it will be assigned as nil.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=assigning-constant-properties-during-initialization>Assigning Constant Properties During Initialization<a hidden class=anchor aria-hidden=true href=#assigning-constant-properties-during-initialization>#</a></h3><p>Constant properties</p><ul><li>can be assigned at any point during initialization. Once it’s assigned, we can’t change it any more.</li><li>can’t be modify by a subclass.</li></ul><p>Assign the constant property during initialization.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> price: Double = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// price = 23 // not allowed</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Assign the constant property by default value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> price: Double = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span> () {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// price = 23 // not allowed</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=default-initializers>Default Initializers<a hidden class=anchor aria-hidden=true href=#default-initializers>#</a></h2><p>Swift provide a default initializer for any structure or class that provide default values for all of its properties.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> price: Double = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> desc: String?    <span style=color:#75715e>// It get nil in default.</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake()
</span></span></code></pre></div><h3 id=member-wise-initializers-for-structure-types>Member-wise Initializers for Structure Types<a hidden class=anchor aria-hidden=true href=#member-wise-initializers-for-structure-types>#</a></h3><p>Unlike a default initializer, the member-wise initializer can assign the arguments to the properties automatically, even if the properties have no default value.</p><p>An example that the properties without default value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> price: Double
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> desc: String?
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake(price: <span style=color:#ae81ff>12</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> bigCake = Cake(price: <span style=color:#ae81ff>50</span>, desc: <span style=color:#e6db74>&#34;Big&#34;</span>)
</span></span></code></pre></div><p>Another example that the properties with default.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Size</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> width = <span style=color:#ae81ff>0.0</span>, height = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> small = Size()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> medium = Size(width: <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> big = Size(width: <span style=color:#ae81ff>10</span>, height: <span style=color:#ae81ff>10</span>)
</span></span></code></pre></div><h2 id=initializer-delegation-for-value-types>Initializer Delegation for Value Types<a hidden class=anchor aria-hidden=true href=#initializer-delegation-for-value-types>#</a></h2><p>A initializer can call another initializer to do some work, so to avoid some duplicate code.</p><h3 id=class-type>Class type<a hidden class=anchor aria-hidden=true href=#class-type>#</a></h3><ul><li>It has inheritance. The classes has additional responsibility for ensuring that all stored properties they inherit are assigned a suitable value during initialization.</li></ul><h3 id=value-type-structures-and-enumerations>Value Type (structures and enumerations)<a hidden class=anchor aria-hidden=true href=#value-type-structures-and-enumerations>#</a></h3><ul><li>Without inheritance, it can only delegate to another initializer that they provide themselves.</li><li>Use <code>self.init</code> to refer to other initializers from the same type in the custom initializer.</li><li>Once define a custom initializer for a value type, we will no longer have access to the default initializer or the member-wise initializer.</li><li>Write the custom initializers in an extension when want to use both default initializer and member-wise initializer.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Size</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> width = <span style=color:#ae81ff>0.0</span>, height = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Point</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> x = <span style=color:#ae81ff>0.0</span>, y = <span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Rect</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> origin = Point()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size = Size()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(origin: Point, size: Size) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.origin = origin
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(center: Point, size: Size) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> originX = center.x <span style=color:#f92672>-</span> (size.width <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> originY = center.y <span style=color:#f92672>-</span> (size.height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(origin: Point(x: originX, y: originY), size: size)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=class-inheritance-and-initialization>Class Inheritance and Initialization<a hidden class=anchor aria-hidden=true href=#class-inheritance-and-initialization>#</a></h2><p>Swift design designated initializers and convenience initializers to ensure all stored properties receive an initial value.</p><h3 id=designated-initializers>Designated Initializers<a hidden class=anchor aria-hidden=true href=#designated-initializers>#</a></h3><p>They are the primary initializer for class. Every class must have at least one designated initializer.</p><p>Classes tend to have very few designated initializers, always have only one.</p><p>It just like the <code>root of a tree</code> , which initialization takes place, and through which the process continues up the superclass chain.</p><p>Syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>init</span>( parmeters ) {}
</span></span></code></pre></div><h3 id=convenience-initializers>Convenience Initializers<a hidden class=anchor aria-hidden=true href=#convenience-initializers>#</a></h3><p>They are secondary supporting initializers for a class.</p><p>It can call the designated initializer by <code>self.init()</code> .</p><p>Override the convenience initializers to provide multiple way to create an instance of the class.</p><p>Syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>( parmeters ) {}
</span></span></code></pre></div><h3 id=initializer-delegation-for-class-types>Initializer Delegation for Class Types<a hidden class=anchor aria-hidden=true href=#initializer-delegation-for-class-types>#</a></h3><p>Rules for delegation calls between initializers:</p><ol><li>A designated initializer must call a designated initializer from its immediate superclass.</li><li>A convenience initializer must call another initializer from the same class.</li><li>A convenience initializer must ultimately call a designated initializer.</li></ol><h3 id=two-phase-initialization>Two-Phase Initialization<a hidden class=anchor aria-hidden=true href=#two-phase-initialization>#</a></h3><p>The initialization process:</p><ul><li>First phase: each stored property is assigned an initial value.</li><li>Second phase: each class is given the opportunity to customize its stored properties.</li><li>Instance ready to use.</li></ul><p>Safety Check (Swift check during compile-time):</p><ol><li>A designated initializer must ensure that all of the properties introduced by its class are initialized before it delegate up to a <strong>superclass</strong> initializer.</li><li>A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designate initializer assign will be overwritten by the superclass as part of its own initialization.</li><li>A convenience initializer must delegate to another initializer before assigning a value to any property. If doesn’t, the new value the convenience initializer assign will be overwritten by it own class’s designated initializer.</li><li>An initializer can’t call any instance methods, read the values of any instance properties, or refer to <code>self</code> as a value until after the first phase of initialization is complete.</li></ol><p>Process the delegate in the subclass:</p><ul><li>First phase of the initialization.</li><li>Ensure all properties were initialized.</li><li>Call superclass’s designated initializer. (Initializer Delegation)</li><li>Assign values to the inherited properties from the superclass.</li></ul><p>The call chain: designated init &lt;- convenience init &lt;- convenience init</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        size = <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, price: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(size: size)  <span style=color:#75715e>// Convenience init must call another init before properties assigning. // It will ultimately call designated init.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int
</span></span><span style=display:flex><span>		<span style=color:#75715e>// If subcalss want to customize designated init, it should use &#39;override&#39; together.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>(){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>10</span>  <span style=color:#75715e>// Ensure properties&#39; initialization before delegate up.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()      <span style=color:#75715e>// Delegate up</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>15</span>  <span style=color:#75715e>// Assign to property after the delegate up.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = <span style=color:#ae81ff>7</span>     <span style=color:#75715e>// Assigning to inherited property  must after delegate up.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The class instance isn’t fully valid until the first phase ends. Properties can only be accessed, and methods can only be called, once the class instance is known to be valid at the end of the first phase.</p><h3 id=phase-1>Phase 1<a hidden class=anchor aria-hidden=true href=#phase-1>#</a></h3><p>Convenience initializer -> &mldr; -> Designated initializer -> superclass’s designated initializer</p><p>Initialize own stored properties, and then go to the superclass’s designated initializer to initialize the inherited properties.</p><ul><li>A designated or convenience initializer is called on a class.</li><li>Allocate memory for new instance, but is not yet initialized.</li><li>Designated initializer confirm all stored properties and initialize them.</li><li>The designated initializer hands off to a superclass initializer to perform the same task for its own stored properties. (run superclass initializer)</li><li>This continues up to the top the chain (the base class’s initializer)</li><li>Once reach the top of the chain, the base class has ensure that all of its stored properties have a value, the instance is now fully initialized, phase 1 complete.</li></ul><h3 id=phase-2>Phase 2<a hidden class=anchor aria-hidden=true href=#phase-2>#</a></h3><p>superclass’s designated initializer -> designated initializer -> &mldr; -> convenience initializer</p><p>Finish the designated initializer and the called convenience initializers.</p><ul><li>Working back down from the top of the chain, each designated initializer in the chain has the option to customize the instance further. Initializers are now able to access <code>self</code> and can modify its properties and call its instance’s method.</li><li>Finally, any convenience initializers in the chain have the option to customize the instance and work with <code>self</code> .</li></ul><h3 id=initializer-inheritance-and-overriding>Initializer Inheritance and Overriding<a hidden class=anchor aria-hidden=true href=#initializer-inheritance-and-overriding>#</a></h3><p>In common, subclasses don’t inherit superclass’s initializers by default. But only in certain circumstances when it’s safe and appropriate to do so.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = CheeseCake(size: <span style=color:#ae81ff>7</span>, price:<span style=color:#ae81ff>22</span>)
</span></span></code></pre></div><p>When the designate initializer matches the superclass’s initializer, it need override.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>(){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()     
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>15</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = <span style=color:#ae81ff>7</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>When the designate initializer matches the superclass’s initializer, <strong>omit the</strong> <code>override</code> , it’s overwrite. The code below show the overwriting of convenience initializer from superclass.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, price: Int)  {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The implicitly call of <code>super.init()</code> , it works when the superclass has only one initializer <code>init()</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(cheese: Int)  {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = cheese
</span></span><span style=display:flex><span>        <span style=color:#75715e>// super.init() implicitly called here</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, price: Int)  {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(cheese: <span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = CheeseCake(cheese: <span style=color:#ae81ff>15</span>)
</span></span></code></pre></div><h3 id=automatic-initializer-inheritance>Automatic Initializer Inheritance<a hidden class=anchor aria-hidden=true href=#automatic-initializer-inheritance>#</a></h3><p>Rule 1</p><ul><li>If the subclass <strong>doesn’t define any</strong> designated initializers, it automatically inherit <strong>all</strong> of its superclass designated initializer.</li></ul><p>Rule 2</p><ul><li>If subclass provides an implementation of <strong>all</strong> of its superclass designated initializers(include the rule 1). Then it automatically inherits <strong>all</strong> of the superclass convenience initializers.</li></ul><p>Even if the subclass adds further convenience initializers, these rules work.</p><p>The code below is an example of rule 1.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = CheeseCake()  <span style=color:#75715e>// It call the init which inherited from the superclass.</span>
</span></span></code></pre></div><p>The code below is an example of rule 2.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(cheese: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = cheese
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, price: Int)  {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(cheese: <span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = CheeseCake(size: <span style=color:#ae81ff>7</span>)  <span style=color:#75715e>// The initializer &#39;convenience init(size: Int)&#39; is automactically inherited from the superclass.</span>
</span></span></code></pre></div><ul><li><p>A subclass can implement a superclass designated initializer as a subclass convenience initializer as part of satisfying rule 2.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> price: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        size = <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>        price = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(size: Int, price: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CheeseCake</span>: Cake {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> cheese: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(cheese: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.cheese = cheese
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Implement superclass designated initializer as a subclass convenience</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, price: Int)  {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(cheese: <span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.price = price
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = CheeseCake(size: <span style=color:#ae81ff>7</span>) 
</span></span></code></pre></div></li></ul><h3 id=designated-and-convenience-initializers-in-action>Designated and Convenience Initializers in Action<a hidden class=anchor aria-hidden=true href=#designated-and-convenience-initializers-in-action>#</a></h3><p>Classes don’t have a default member-wise initializer. (Structure )</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Food</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(name: <span style=color:#e6db74>&#34;default&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Pie</span>: Food {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> area: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(name: <span style=color:#e6db74>&#34;default&#34;</span>, area: <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name  <span style=color:#75715e>// It must call after the super.init</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(name: String, area: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.area = area
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(name: name)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ApplePie</span>: Pie {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> pie = ApplePie()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> applePie = ApplePie(name: <span style=color:#e6db74>&#34;pumpPie&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> bigApplePie = ApplePie(name: <span style=color:#e6db74>&#34;pumpPie&#34;</span>, area: <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\(</span>pie.name<span style=color:#e6db74>)</span><span style=color:#e6db74>: </span><span style=color:#e6db74>\(</span>pie.area<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\(</span>applePie.name<span style=color:#e6db74>)</span><span style=color:#e6db74>: </span><span style=color:#e6db74>\(</span>applePie.area<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\(</span>bigApplePie.name<span style=color:#e6db74>)</span><span style=color:#e6db74>: </span><span style=color:#e6db74>\(</span>bigApplePie.area<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><ul><li><p>Result:</p><p>default: 4
pumpPie: 4
pumpPie: 20</p></li></ul><h2 id=fail-able-initializers>Fail-able Initializers<a hidden class=anchor aria-hidden=true href=#fail-able-initializers>#</a></h2><p>Place a question mark after the <code>init</code> keyword(<code>init?</code>).</p><p>we can‘t define a fail-able and a non-fail-able initializer with the same parameter types and names.</p><p>Fail-able initializer</p><ul><li>create an optional value of the type it initializes.</li><li>write <code>return nil</code> within a fail-able initializer to indicate a point at which can trigger initialization failure. (don’t use <code>return</code> keyword to indicate the initialization success)</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>// Int(exactly: )</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> num: Double = <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> pi = <span style=color:#ae81ff>3.1415</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> value = Int(exactly: num) {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\(</span>num<span style=color:#e6db74>)</span><span style=color:#e6db74> </span><span style=color:#e6db74>\(</span>value<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;conversion fail&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: 22.0 22</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// The value not match the type int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> num: Double = <span style=color:#ae81ff>22.1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> pi = <span style=color:#ae81ff>3.1415</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> value = Int(exactly: num) {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\(</span>num<span style=color:#e6db74>)</span><span style=color:#e6db74> </span><span style=color:#e6db74>\(</span>value<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;conversion fail&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: conversion fail</span>
</span></span></code></pre></div><p>Use a fail-able initializer init a structure and check if the initialization succeeded.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Animal</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> species: String
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>?(species: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> species.isEmpty { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.species = species
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> creature = Animal(species: <span style=color:#e6db74>&#34;Giraffe&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> giraffe = creature {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;The giraffe init succeeded&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;The giraffe init fail&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: The giraffe init succeeded</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cat = Animal(species: <span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> c = cat {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;cat inited successful&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;cat init fail&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Print: cat init fail</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// The empty string has a length of 0, but it&#39;s not a nil. </span>
</span></span></code></pre></div><h3 id=fail-able-initializer-for-enumerations>Fail-able Initializer for Enumerations<a hidden class=anchor aria-hidden=true href=#fail-able-initializer-for-enumerations>#</a></h3><p>If the given state is not found in the cases, return <code>nil</code> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Rank</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> low, midium, high
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>?(rank: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>switch</span> rank {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;L&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>self</span> = .low
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;M&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>self</span> = .midium
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;H&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>self</span> = .high
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> rank = Rank(rank: <span style=color:#e6db74>&#34;H&#34;</span>)
</span></span><span style=display:flex><span>print(rank)  <span style=color:#75715e>// Optional(Page_Contents.Rank.high)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> r = Rank(rank: <span style=color:#e6db74>&#34;C&#34;</span>)
</span></span><span style=display:flex><span>print(r)     <span style=color:#75715e>// nil</span>
</span></span></code></pre></div><p>Use in rawValue</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Rank</span>: String {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> low = <span style=color:#e6db74>&#34;L&#34;</span>, midium = <span style=color:#e6db74>&#34;M&#34;</span>, high = <span style=color:#e6db74>&#34;H&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> rank = Rank(rawValue: <span style=color:#e6db74>&#34;H&#34;</span>)
</span></span><span style=display:flex><span>print(rank)  <span style=color:#75715e>// Optional(Page_Contents.Rank.high)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> r = Rank(rawValue: <span style=color:#e6db74>&#34;C&#34;</span>)
</span></span><span style=display:flex><span>print(r)     <span style=color:#75715e>// nil</span>
</span></span></code></pre></div><h3 id=propagation-of-initialization-failure>Propagation of Initialization Failure<a hidden class=anchor aria-hidden=true href=#propagation-of-initialization-failure>#</a></h3><ul><li>A fail-able initializer of a class, structure, or enumeration can delegate across to another fail-able initializer from the same class, structure, or enumeration.</li><li>A subclass fail-able initializer can delegate up to a superclass fail-able initializer.</li><li>A fail-able initializer can delegate to a non-fail-able initializer.</li></ul><p>If delegate to another initializer that cause initialization fail, the entire initialization process fails immediately, and no further initialization code is executed.</p><p>Here is an example that the subclass fail-able initializer delegate to the superclass fail-able initializer:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Product</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> name: String
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>?(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> name.isEmpty { 
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Name empty, super class init fail&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CartItem</span>: Product {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> quantity: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>?(name: String, quantity: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> quantity <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> { 
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;No Quantity, subclass init fail&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.quantity = quantity
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(name: name)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> itemNoName = CartItem(name: <span style=color:#e6db74>&#34;&#34;</span>, quantity: <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> itemNoQuantity = CartItem(name: <span style=color:#e6db74>&#34;Apple&#34;</span>, quantity: <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> item = CartItem(name:<span style=color:#e6db74>&#34;Pen&#34;</span>, quantity: <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>print(itemNoName)
</span></span><span style=display:flex><span>print(itemNoQuantity)
</span></span><span style=display:flex><span>print(item)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Print:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Name empty, super class init fail</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// No Quantity, subclass init fail</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// nil</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// nil</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Optional(Page_Contents.CartItem)</span>
</span></span></code></pre></div><h3 id=overriding-a-fail-able-initializer>Overriding a Fail-able Initializer<a hidden class=anchor aria-hidden=true href=#overriding-a-fail-able-initializer>#</a></h3><ul><li>Override a superclass fail-able initializer in a subclass.</li><li>Override a superclass fail-able initializer <strong>with a subclass non-fail-able initializer</strong>.</li><li>The only way to delegate up to the fail-able initializer is to <strong>force-unwrap the result</strong> of the fail-able initializer.</li><li>Can’t override a non-fail-able initializer with a fail-able initializer.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Doc</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String?
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>?(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> name.isEmpty { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>convenience</span> <span style=color:#66d9ef>init</span>(size: Int, name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.<span style=color:#66d9ef>init</span>(name: name)<span style=color:#f92672>!</span>  <span style=color:#75715e>// Delegate up to the fail-able initializer as part of the implementation. </span>
</span></span><span style=display:flex><span>				<span style=color:#75715e>// If the name is empty, it will trigger runtime-error.</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FileDoc</span>: Doc {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = <span style=color:#e6db74>&#34;[Untilted]&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Override the superclass fail-able initializer with a subclass non-fail-able initializer.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> name.isEmpty {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>self</span>.name = <span style=color:#e6db74>&#34;[Untitled]&#34;</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Use forced unwrapping in an initializer to call a fail-able initializer from the superclass as part of the implement of a subclass’s non-fail-able initializer.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FileDoc</span>: Doc {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(name: <span style=color:#e6db74>&#34;[Untitled]&#34;</span>)<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MessageDoc</span>: Doc {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> size: Int
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(size: Int) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.size = size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(name: <span style=color:#e6db74>&#34;[Untitled]&#34;</span>)<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=init-fail-able-initializer><code>init!</code> Fail-able Initializer<a hidden class=anchor aria-hidden=true href=#init-fail-able-initializer>#</a></h3><p>The <code>init!</code> will implicitly unwrapped the optional result.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Doc</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String?
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>!(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> name.isEmpty { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FileDoc</span>: Doc {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(name: <span style=color:#e6db74>&#34;[Untitled]&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=required-initializers>Required Initializers<a hidden class=anchor aria-hidden=true href=#required-initializers>#</a></h2><p>Write the <code>required</code> modifier before the definition of a class initializer to indicate that every subclass of the class must implement that initializer.</p><p>Don’t write the <code>override</code> keyword.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Animal</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>required</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Fine&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cat</span>: Animal {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>required</span> <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Cat&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cat = Cat()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Print:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Cat</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Fine</span>
</span></span></code></pre></div><h2 id=setting-a-default-property-value-with-a-closure-or-function>Setting a Default Property Value with a Closure or Function<a hidden class=anchor aria-hidden=true href=#setting-a-default-property-value-with-a-closure-or-function>#</a></h2><p>The closure init before the initializer, so we can’t use <code>self</code> within the closure.</p><p>With parentheses, the closure’s return value (or result) will be assign to the property.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String = { 
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;fine&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;cake&#34;</span>
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>		<span style=color:#75715e>// The parentheses after the closure means that it&#39;s a calling. The closure executed immediately.</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake()  <span style=color:#75715e>// Print: fine</span>
</span></span><span style=display:flex><span>print(cake.name)   <span style=color:#75715e>// Print: cake</span>
</span></span></code></pre></div><p>Without parentheses, the closure itself is to assign to the property.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: () -&gt; String = {  
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;fine&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;cake&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> cake = Cake()  <span style=color:#75715e>// Hasn&#39;t called the closure</span>
</span></span><span style=display:flex><span>print(cake.name)   <span style=color:#75715e>// Print: (Function)</span>
</span></span><span style=display:flex><span>cake.name()
</span></span></code></pre></div><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChessBoard</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> boardColors: [Bool] = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> isBlack = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> board: [Bool] = []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>1.</span>..<span style=color:#ae81ff>8</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> j <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>1.</span>..<span style=color:#ae81ff>8</span> {
</span></span><span style=display:flex><span>                board.append(isBlack)
</span></span><span style=display:flex><span>                isBlack = <span style=color:#f92672>!</span>isBlack
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> board
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getIsBlack</span>(row: Int, col: Int) -&gt; Bool {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> boardColors[(row <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span>) <span style=color:#f92672>+</span> col]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> b = ChessBoard()
</span></span><span style=display:flex><span>print(b.getIsBlack(row: <span style=color:#ae81ff>2</span>, col: <span style=color:#ae81ff>3</span>)) <span style=color:#75715e>// Print: true</span>
</span></span><span style=display:flex><span>print(b.getIsBlack(row: <span style=color:#ae81ff>4</span>, col: <span style=color:#ae81ff>4</span>)) <span style=color:#75715e>// Print: false</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://1-1.link/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/>编程语言</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Initialization on twitter" href="https://twitter.com/intent/tweet/?text=Initialization&url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f14initialization%2f&hashtags=%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Initialization on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f14initialization%2f&title=Initialization"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Initialization on telegram" href="https://telegram.me/share/url?text=Initialization&url=https%3a%2f%2f1-1.link%2fpost%2flanguage%2fswift%2f14initialization%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://1-1.link>CodePaper</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>